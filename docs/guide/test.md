# 测试与统计 (Test)

TestScreen 提供了一套完整的单词测试系统，支持多种题型，并能记录您的测试历史。通过测试，您可以检验自己的学习成果，找出薄弱环节。

## 1. 测试模式 (Modes)

点击底部导航栏的 **Test** 图标，您可以在顶部标签页中切换两种测试模式：

### 选择题 (Multiple Choice)
*   **形式**: 经典的“四选一”。
    *   **题面**: 英文单词 + 音标。
    *   **选项**: 4 个中文释义（1 个正确，3 个干扰项）。
*   **干扰项生成**: 系统会自动从当前词库中随机选取其他单词作为干扰项，确保选项的迷惑性和难度。
*   **反馈**:
    *   **正确**: 选项变绿，停留 1 秒后自动进入下一题。
    *   **错误**: 选项变红，正确答案变绿。您可以查看正确答案后再手动点击进入下一题。

### 拼写 (Spelling)
*   **形式**: 听写/默写模式。
    *   **题面**: 中文释义 + 例句（英文部分挖空）。
    *   **输入**: 需要在输入框中准确拼写出对应的英文单词。
*   **判定**:
    *   忽略大小写。
    *   忽略首尾空格。
*   **难度**: 拼写模式考察的是“输出”能力，难度高于选择题，但对记忆的巩固效果更好。

## 2. 候选词筛选 (Candidate Selection)

MagicWord 支持灵活的测试范围选择：

### 全库测试 (默认)
如果没有特别指定，测试将覆盖**当前词库**中的所有单词。

### 24小时冷却机制
为了防止无效刷题，系统默认会过滤掉 **24小时内刚刚复习或测试过** 的单词。如果所有单词都在冷却期内，系统会提示您“所有单词均已测试过”，但允许您强制开始一轮全量测试。

### 指定单词测试
在 **单词列表 (WordsScreen)** 中，您可以：
1.  长按任意单词进入多选模式。
2.  勾选您想测试的单词（例如刚刚导入的一批新词）。
3.  点击底部的 **测试图标**。
4.  系统会自动跳转到测试界面，此时界面上方会显示 **“正在测试选中单词 (N个)”**。

## 3. 测试会话与进度保存

### 自动保存 (Auto-Save)
测试过程中，每做完一道题，系统都会自动将当前进度（已做题目、当前分数、错题记录）保存到本地数据库。

### 中断恢复
如果您在测试中途退出了应用（或者切换到了其他 App），下次打开 MagicWord 并进入 Test 界面时，系统会自动恢复您上次的测试进度，您可以无缝继续答题。

## 4. 历史记录 (History)

点击测试界面右上角的 **历史记录图标**，可以查看过往的测试成绩。

### 历史列表
*   显示每次测试的时间、类型（选择/拼写）、得分率。
*   按时间倒序排列。

### 详细报告
点击任意一条历史记录，可以查看详细的**答题报告**：
*   **总览**: 总题数、正确数、错误数。
*   **逐题详情**: 列出每一道题的单词。
    *   ✅ 正确题目。
    *   ❌ 错误题目：会显示您的**错误答案**和**正确答案**对比，帮助您分析错误原因。

## 5. 统计反馈

测试结果会反向影响单词的统计数据：
*   **答对**: 单词的 `correctCount` +1。
*   **答错**: 单词的 `incorrectCount` +1。
*   **复习重置**: 如果您在测试中答错了某个单词，系统会将其视为“忘记”，可能会重置其 SM-2 复习进度（将其间隔设为 1 天），强制您近期重新学习该单词。
